## Resumo r√°pido

Este Pull Request adiciona um modo de **configura√ß√£o da identidade visual e do grupo regional** na ficha de vistoria veicular, permitindo:

- Selecionar o grupo regional a partir de um JSON est√°tico;
- Alterar logos de cabe√ßalho e rodap√©;
- Personalizar o nome da institui√ß√£o na linha principal do cabe√ßalho;
- Persistir essas configura√ß√µes em `localStorage` para manter o contexto entre sess√µes.

---

## O que foi feito

### üîß Cabe√ßalho (header)

- Adicionada um **bot√£o de configura√ß√µes** com √≠cone de engrenagem no canto superior direito:
  - Bot√£o minimalista, apenas √≠cone, sem texto.
- Inclu√≠dos `id`s para permitir atualiza√ß√£o din√¢mica:
  - `header-logo` para a logo do topo.
  - `inst-nome` para o nome da institui√ß√£o (linha superior).
  - `regional-nome` para o nome do grupo regional (linha inferior).

### üñ® Cabe√ßalho da vers√£o de impress√£o

- Ajustado o bloco `#print-header-placeholder` para refletir a mesma identidade visual:
  - `print-header-logo` para a logo de cabe√ßalho na vers√£o de impress√£o.
  - `print-inst-nome` para o nome da institui√ß√£o.
  - `print-regional-nome` para o nome do grupo regional.

### üìç Rodap√©

- Ajustado o rodap√© para permitir substitui√ß√£o de dados via JS:
  - `footer-endereco` ‚Äì linha de endere√ßo.
  - `footer-email` ‚Äì linha de e-mail (prefixada com ‚ÄúE-mail:‚Äù).
  - `footer-logo` ‚Äì imagem de logos no rodap√©.

### ‚öôÔ∏è Modal de configura√ß√µes

Criado um **modal de configura√ß√µes** acess√≠vel pelo bot√£o de engrenagem, com os seguintes campos:

- `config-grupo` ‚Äì select de grupo regional (preenchido via JSON):
  - Cyber
  - Capital
  - Itaja√≠
  - Joinville
  - Lages
  - Chapec√≥
  - Crici√∫ma
  - Blumenau
  - S√£o Miguel do Oeste
  - Coordena√ß√£o
- `config-header-logo` ‚Äì caminho ou URL da logo do cabe√ßalho.
- `config-footer-logo` ‚Äì caminho ou URL da logo do rodap√©.
- `config-inst-nome` ‚Äì nome da institui√ß√£o (linha superior do header).

Bot√µes:

- `config-cancel` ‚Äì fecha o modal sem salvar.
- `config-save` ‚Äì salva as configura√ß√µes e aplica imediatamente na interface.

---

## JSON de grupos regionais

Os grupos regionais s√£o definidos em um objeto est√°tico dentro de `config.js`, com o seguinte formato (resumido):

```js
const GRUPOS = {
  "Itaja√≠": {
    "email": "gaecoitajai@mpsc.mp.br",
    "cidade": "Itaja√≠",
    "regiao": "Itaja√≠",
    "nome_g_regional": "GAECO de Itaja√≠",
    "endereco": "Rua Brusque, n. 1224 - centro- CEP 88.303-001 Itaja√≠/SC"
  },
  "Chapec√≥": {
    "email": "gaecochapeco@mpsc.mp.br",
    "cidade": "Chapec√≥",
    "regiao": "Chapec√≥",
    "nome_g_regional": "GAECO de Chapec√≥",
    "endereco": "Rua Curitiba 74, centro,Chapec√≥/SC CEP 89801-341"
  },
  ...
};
```

Cada entrada cont√©m:

- `email` ‚Äì e-mail institucional do grupo.
- `cidade` ‚Äì cidade padr√£o (tamb√©m usada para ‚ÄúLocal e data da apreens√£o‚Äù, se vazio).
- `regiao` ‚Äì nome da regi√£o.
- `nome_g_regional` ‚Äì texto completo a ser exibido como nome do grupo.
- `endereco` ‚Äì endere√ßo completo do grupo regional.

---

## Atualiza√ß√µes din√¢micas na UI

Ao selecionar um grupo regional e salvar:

- Cabe√ßalho:
  - `inst-nome` e `print-inst-nome` recebem o nome da institui√ß√£o configurado.
  - `regional-nome` e `print-regional-nome` recebem `nome_g_regional` do grupo selecionado.
- Rodap√©:
  - `footer-endereco` recebe `endereco` do grupo.
  - `footer-email` recebe `E-mail: ${email}` do grupo.
- Cidade:
  - Se o campo `cidade-input` estiver vazio, ele √© preenchido automaticamente com `cidade` do grupo escolhido.
- Logos:
  - `header-logo` e `print-header-logo` usam o valor de `config-header-logo` (ou o padr√£o).
  - `footer-logo` usa o valor de `config-footer-logo` (ou o padr√£o).

Al√©m disso:

- O fundo da p√°gina √© padronizado para **branco**, substituindo o antigo `bg-stone-100`:
  - `document.body.classList.remove("bg-stone-100");`
  - `document.body.classList.add("bg-white");`

---

## Persist√™ncia em localStorage

As configura√ß√µes s√£o persistidas na chave:

```text
vistoriaConfig
```

Estrutura armazenada (exemplo):

```json
{
  "groupKey": "Chapec√≥",
  "headerLogo": "imagem/logo_mpsc.png",
  "footerLogo": "imagem/gaeco2.bmp",
  "instNome": "GRUPO DE ATUA√á√ÉO ESPECIAL DE COMBATE √ÄS ORGANIZA√á√ïES CRIMINOSAS - GAECO"
}
```

Na inicializa√ß√£o:

- Se a chave existir e for v√°lida, as configura√ß√µes s√£o carregadas e aplicadas.
- Se n√£o existir, √© usado o padr√£o:
  - `groupKey`: `"Itaja√≠"`
  - `headerLogo`: `imagem/logo_mpsc.png`
  - `footerLogo`: `imagem/gaeco2.bmp`
  - `instNome`: nome padr√£o da institui√ß√£o.

Em caso de erro ao acessar o `localStorage` (ex.: navega√ß√£o privada), a aplica√ß√£o segue funcionando, apenas sem persistir o estado.

---

## Arquivos impactados (alto n√≠vel)

### index.html

- Ajuste do `<header>`:
  - Inclus√£o do bot√£o de engrenagem (`config-button`).
  - Inclus√£o de `id`s para elementos que sofrer√£o troca din√¢mica:
    - `header-logo`
    - `inst-nome`
    - `regional-nome`
- Ajuste do bloco de cabe√ßalho de impress√£o:
  - `print-header-logo`
  - `print-inst-nome`
  - `print-regional-nome`
- Ajuste do rodap√©:
  - `footer-endereco`
  - `footer-email`
  - `footer-logo`
- Inclus√£o do **modal de configura√ß√µes**:
  - `config-modal`, `config-grupo`, `config-header-logo`, `config-footer-logo`, `config-inst-nome`, `config-cancel`, `config-save`.

### js/app.js

- Importa e inicializa o novo m√≥dulo de configura√ß√£o:

```js
import { initConfig } from "./config.js";

document.addEventListener("DOMContentLoaded", () => {
  initConfig();
  // demais inicializa√ß√µes: initSignatures, initDamageMap, initPhotos, setupPrint...
});
```

### js/config.js (novo)

Respons√°vel por:

- Manter o mapa `GRUPOS` com todos os grupos regionais.
- Popular o `<select>` de grupos no modal.
- Ler/escrever a configura√ß√£o no `localStorage`.
- Aplicar as configura√ß√µes na UI:
  - Cabe√ßalho, cabe√ßalho de impress√£o, rodap√© e cidade padr√£o.
- For√ßar fundo branco na p√°gina.
- Controlar abertura/fechamento do modal.

---

## Como testar

1. **Subir o servidor local**

   Exemplo com Python 3:

   ```bash
   python3 -m http.server 8000
   ```

   Acessar a aplica√ß√£o em:

   ```text
   http://localhost:8000/index.html
   ```

2. **Verificar estado inicial**

   - Cabe√ßalho deve mostrar:
     - Nome padr√£o da institui√ß√£o.
     - `GRUPO REGIONAL DE ITAJA√ç`.
   - Rodap√©:
     - Endere√ßo e e-mail de Itaja√≠.
   - Fundo da p√°gina:
     - Branco (`bg-white`).

3. **Abrir modal de configura√ß√£o**

   - Clicar no √≠cone de engrenagem no cabe√ßalho.
   - Conferir se o `select` lista todos os grupos definidos em `GRUPOS`.

4. **Trocar grupo regional**

   - Escolher, por exemplo, `Chapec√≥`.
   - Ajustar (ou manter) os campos:
     - Logo de cabe√ßalho.
     - Logo de rodap√©.
     - Nome da institui√ß√£o.
   - Clicar em **Salvar**.

   Verificar:

   - Cabe√ßalho:
     - `regional-nome` e `print-regional-nome` exibindo `GAECO de Chapec√≥`.
   - Rodap√©:
     - `footer-endereco` com o endere√ßo de Chapec√≥.
     - `footer-email` com `E-mail: gaecochapeco@mpsc.mp.br`.
   - Campo `cidade-input`:
     - Se estava vazio, agora deve estar preenchido com `Chapec√≥`.

5. **Persist√™ncia ap√≥s recarregar a p√°gina**

   - Atualizar a p√°gina (F5).
   - Confirmar que:
     - O grupo regional permanece como `Chapec√≥` (ou outro selecionado).
     - Logos e institui√ß√£o continuam de acordo com as configura√ß√µes salvas.
     - Fundo continua branco.

6. **Impacto na impress√£o**

   - Preencher alguns campos de teste.
   - Clicar em **Imprimir / PDF**.
   - No modo de visualiza√ß√£o:
     - Conferir se o cabe√ßalho impresso est√° com:
       - Logo correta.
       - Nome atualizado da institui√ß√£o.
       - Nome do grupo regional correspondente ao grupo selecionado.
     - Conferir se endere√ßo e e-mail no rodap√© correspondem ao grupo configurado.

---

## Notas e considera√ß√µes

- A funcionalidade de configura√ß√£o √© **opcional**: se o usu√°rio nunca clicar na engrenagem, a ficha continua operando com o padr√£o de Itaja√≠.
- O m√≥dulo de configura√ß√£o foi isolado em `config.js` para n√£o poluir a l√≥gica de:
  - Assinaturas.
  - Mapa de avarias.
  - Upload de fotos.
  - Impress√£o.
- Essa base abre espa√ßo para futuras evolu√ß√µes:
  - Expor os grupos a partir de um arquivo JSON externo.
  - Adicionar novas institui√ß√µes/√≥rg√£os sem alterar o HTML.
  - Controle de tema visual (cores) tamb√©m via modal de configura√ß√£o.
